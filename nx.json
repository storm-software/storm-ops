{
  "$schema": "https://cdn.jsdelivr.net/npm/nx/schemas/nx-schema.json",
  "extends": "./packages/workspace-tools/config/nx-default.json",
  "tasksRunnerOptions": {
    "default": {
      "options": {
        "cacheableOperations": [
          "lint-sherif",
          "lint-knip",
          "lint-docs",
          "lint-ls",
          "lint",
          "format-readme",
          "format-toml",
          "format-prettier",
          "format-sherif",
          "format",
          "clean",
          "build-base",
          "build",
          "test",
          "e2e",
          "docs",
          "nx-release-publish"
        ],
        "parallel": 3
      }
    }
  },
  "namedInputs": {
    "sharedGlobals": [
      "{workspaceRoot}/.github/**/*",
      "{workspaceRoot}/assets/**/*",
      "{workspaceRoot}/tsconfig.*.json",
      "{workspaceRoot}/.npmrc",
      "{workspaceRoot}/.npmignore",
      "{workspaceRoot}/package.json",
      "{workspaceRoot}/pnpm-workspace.yaml",
      "{workspaceRoot}/pnpm-lock.yaml",
      "{workspaceRoot}/package-lock.yaml",
      "{workspaceRoot}/yarn-lock.yaml",
      "{workspaceRoot}/bun.lockb",
      "{workspaceRoot}/LICENSE",
      "{workspaceRoot}/.gitattributes",
      "{workspaceRoot}/.gitignore",
      "{workspaceRoot}/nx.json",
      "{workspaceRoot}/.nxignore",
      "{workspaceRoot}/storm.json",
      "{workspaceRoot}/storm.*.json",
      "{workspaceRoot}/.storm/config.json",
      "{workspaceRoot}/.storm/config.*.json",
      "{workspaceRoot}/storm.yaml",
      "{workspaceRoot}/storm.*.yaml",
      "{workspaceRoot}/.storm/config.yaml",
      "{workspaceRoot}/.storm/config.*.yaml",
      "{workspaceRoot}/storm.toml",
      "{workspaceRoot}/storm.*.toml",
      "{workspaceRoot}/.storm/config.toml",
      "{workspaceRoot}/.storm/config.*.toml",
      "{workspaceRoot}/storm.config.js",
      "{workspaceRoot}/.env",
      "{workspaceRoot}/.env.local"
    ],
    "default": ["sharedGlobals", "{projectRoot}/**/*"],
    "production": [
      "{projectRoot}/**/*",
      "!{projectRoot}/tools/**/*",
      "!{projectRoot}/scripts/**/*",
      "!{projectRoot}/node_modules/**/*",
      "!{projectRoot}/api-extractor.json",
      "!{projectRoot}/tsdoc.json",
      "!{projectRoot}/typedoc.json",
      "!{projectRoot}/.eslint-doc-generatorrc.js",
      "!{projectRoot}/.eslint-doc-generatorrc.json",
      "!{projectRoot}/contentlayer.config.ts",
      "!{projectRoot}/.storybook/**/*",
      "!{projectRoot}/tsconfig.storybook.json",
      "!{projectRoot}/jest.config.ts",
      "!{projectRoot}/tsconfig.spec.json",
      "!{projectRoot}/src/test-setup.[jt]s",
      "!{projectRoot}/test-setup.[jt]s",
      "!{projectRoot}/tsconfig.spec.json",
      "!{projectRoot}/.eslintignore",
      "!{projectRoot}/.eslintrc.json",
      "!{projectRoot}/.eslintrc.cjs",
      "!{projectRoot}/eslint.config.js",
      "!{projectRoot}/eslint.config.cjs",
      "!{projectRoot}/eslint.config.mjs",
      "!{projectRoot}/biome.toml",
      "!{projectRoot}/biome.json",
      "!{projectRoot}/lefthook.yaml",
      "!{projectRoot}/.markdownlint.json",
      "!{projectRoot}/.markdownlint-cli2.cjs",
      "!{projectRoot}/.prettierrc",
      "!{projectRoot}/.prettierignore",
      "!{projectRoot}/docs/**/*",
      "!{projectRoot}/**/*.stories.@(js|jsx|ts|tsx|mdx)",
      "!{projectRoot}/benches/**/*",
      "!{projectRoot}/e2e/**/*",
      "!{projectRoot}/tests/**/*",
      "!{projectRoot}/testing/**/*",
      "!{projectRoot}/**/?(*.)+(spec|test).[jt]s?(x)?(.snap)",
      "!{projectRoot}/tsconfig.spec.json"
    ],
    "testing": [
      "sharedGlobals",
      "{workspaceRoot}/jest.config.ts",
      "{workspaceRoot}/jest.preset.js",
      "{workspaceRoot}/benches/**/*",
      "{workspaceRoot}/e2e/**/*",
      "{workspaceRoot}/tests/**/*",
      "{workspaceRoot}/testing/**/*",
      "{workspaceRoot}/coverage/**/*",
      "{projectRoot}/project.json",
      "{projectRoot}/README.md",
      "{projectRoot}/CHANGELOG.md",
      "{projectRoot}/.env",
      "{projectRoot}/.env.local",
      "{projectRoot}/jest.config.ts",
      "{projectRoot}/tsconfig.spec.json",
      "{projectRoot}/src/test-setup.[jt]s",
      "{projectRoot}/test-setup.[jt]s",
      "{projectRoot}/tsconfig.spec.json",
      "{workspaceRoot}/jest.config.ts",
      "{workspaceRoot}/jest.preset.js",
      "{workspaceRoot}/benches/**/*",
      "{workspaceRoot}/e2e/**/*",
      "{workspaceRoot}/tests/**/*",
      "{workspaceRoot}/testing/**/*",
      "{workspaceRoot}/coverage/**/*",
      "{projectRoot}/benches/**/*",
      "{projectRoot}/e2e/**/*",
      "{projectRoot}/tests/**/*",
      "{projectRoot}/testing/**/*",
      "{projectRoot}/**/?(*.)+(spec|test).[jt]s?(x)?(.snap)",
      "{projectRoot}/tsconfig.spec.json"
    ],
    "linting": [
      "sharedGlobals",
      "{workspaceRoot}/.eslintignore",
      "{workspaceRoot}/eslintrc.json",
      "{workspaceRoot}/.eslintrc.json",
      "{workspaceRoot}/.eslintrc.cjs",
      "{workspaceRoot}/eslint.config.js",
      "{workspaceRoot}/eslint.config.cjs",
      "{workspaceRoot}/eslint.config.mjs",
      "{workspaceRoot}/biome.toml",
      "{workspaceRoot}/biome.json",
      "{workspaceRoot}/lefthook.yaml",
      "{workspaceRoot}/.markdownlint.json",
      "{workspaceRoot}/.markdownlint-cli2.cjs",
      "{workspaceRoot}/.prettierrc",
      "{workspaceRoot}/prettier.config.js",
      "{workspaceRoot}/.prettierignore",
      "{projectRoot}/project.json",
      "{projectRoot}/README.md",
      "{projectRoot}/CHANGELOG.md",
      "{projectRoot}/.env",
      "{projectRoot}/.env.local",
      "{projectRoot}/.eslintignore",
      "{projectRoot}/.eslintrc",
      "{projectRoot}/.eslintrc.json",
      "{projectRoot}/.eslintrc.cjs",
      "{projectRoot}/eslint.config.js",
      "{projectRoot}/eslint.config.cjs",
      "{projectRoot}/eslint.config.mjs",
      "{projectRoot}/biome.toml",
      "{projectRoot}/biome.json",
      "{projectRoot}/lefthook.yaml",
      "{projectRoot}/.markdownlint.json",
      "{projectRoot}/.markdownlint-cli2.cjs",
      "{projectRoot}/.prettierrc",
      "{projectRoot}/.prettierignore"
    ],
    "documentation": [
      "sharedGlobals",
      "{workspaceRoot}/api-extractor.json",
      "{workspaceRoot}/tsdoc.json",
      "{workspaceRoot}/typedoc.json",
      "{workspaceRoot}/.eslint-doc-generatorrc.js",
      "{workspaceRoot}/.eslint-doc-generatorrc.json",
      "{workspaceRoot}/contentlayer.config.ts",
      "{workspaceRoot}/*.md",
      "{workspaceRoot}/*.mdx",
      "{workspaceRoot}/docs/**/*",
      "{workspaceRoot}/.storybook/**/*",
      "{projectRoot}/project.json",
      "{projectRoot}/README.md",
      "{projectRoot}/CHANGELOG.md",
      "{projectRoot}/.env",
      "{projectRoot}/.env.local",
      "{projectRoot}/api-extractor.json",
      "{projectRoot}/tsdoc.json",
      "{projectRoot}/typedoc.json",
      "{projectRoot}/.eslint-doc-generatorrc.js",
      "{projectRoot}/.eslint-doc-generatorrc.json",
      "{projectRoot}/contentlayer.config.ts",
      "{projectRoot}/.storybook/**/*",
      "{projectRoot}/tsconfig.storybook.json",
      "{projectRoot}/README.md",
      "{projectRoot}/docs/**/*",
      "{projectRoot}/**/*.stories.@(js|jsx|ts|tsx|mdx)",
      "!{projectRoot}/benches/**/*",
      "!{projectRoot}/e2e/**/*",
      "!{projectRoot}/tests/**/*",
      "!{projectRoot}/testing/**/*",
      "!{projectRoot}/**/?(*.)+(spec|test).[jt]s?(x)?(.snap)",
      "!{projectRoot}/tsconfig.spec.json"
    ],
    "rust": [
      "sharedGlobals",
      "{workspaceRoot}/Cargo.toml",
      "{workspaceRoot}/Cargo.lock",
      "{workspaceRoot}/.cargo/config.toml",
      "{workspaceRoot}/rust-toolchain",
      "{workspaceRoot}/rustfmt.toml",
      "{workspaceRoot}/deny.toml",
      "{projectRoot}/Cargo.toml",
      "{projectRoot}/.cargo/config.toml",
      {
        "runtime": "node -p '`${process.platform}_${process.arch}`'"
      },
      "{projectRoot}/project.json",
      "{projectRoot}/README.md",
      "{projectRoot}/CHANGELOG.md",
      "{projectRoot}/.env",
      "{projectRoot}/.env.local",
      "{projectRoot}/**/*.rs",
      "{projectRoot}/**/*.proto",
      "{projectRoot}/**/*.acid",
      "{projectRoot}/**/*.acidic",
      "{projectRoot}/**/*.prisma",
      "{projectRoot}/src/**/*.json",
      "{projectRoot}/src/**/*.jsonc",
      "{projectRoot}/src/**/*.yaml",
      "{projectRoot}/src/**/*.yml",
      "{projectRoot}/src/**/*.toml",
      {
        "runtime": "node -p '`${process.platform}_${process.arch}`'"
      },
      "!{projectRoot}/README.md",
      "!{projectRoot}/docs/**/*",
      "!{projectRoot}/benches/**/*",
      "!{projectRoot}/e2e/**/*",
      "!{projectRoot}/tests/**/*",
      "!{projectRoot}/testing/**/*"
    ],
    "typescript": [
      "sharedGlobals",
      "{projectRoot}/package.json",
      "{projectRoot}/tsconfig.json",
      "{projectRoot}/tsconfig.*.json",
      "!{projectRoot}/tsconfig.spec.json",
      "!{projectRoot}/tsconfig.storybook.json",
      "!{projectRoot}/**/?(*.)+(spec|test).[jt]s?(x)?(.snap)",
      "!{projectRoot}/**/*.stories.@(js|jsx|ts|tsx|mdx)",
      "!{projectRoot}/node_modules/**/*",
      "{projectRoot}/project.json",
      "{projectRoot}/README.md",
      "{projectRoot}/CHANGELOG.md",
      "{projectRoot}/.env",
      "{projectRoot}/.env.local",
      "{projectRoot}/README.md",
      "{projectRoot}/docs/**/*",
      "{projectRoot}/**/*.stories.@(js|jsx|ts|tsx|mdx)",
      "!{projectRoot}/benches/**/*",
      "!{projectRoot}/e2e/**/*",
      "!{projectRoot}/tests/**/*",
      "!{projectRoot}/testing/**/*",
      "!{projectRoot}/**/?(*.)+(spec|test).[jt]s?(x)?(.snap)",
      "!{projectRoot}/tsconfig.spec.json",
      "{projectRoot}/**/*.proto",
      "{projectRoot}/**/*.acid",
      "{projectRoot}/**/*.acidic",
      "{projectRoot}/**/*.prisma",
      "{projectRoot}/src/**/*.cts",
      "{projectRoot}/src/**/*.mts",
      "{projectRoot}/src/**/*.ts",
      "{projectRoot}/src/**/*.tsx",
      "{projectRoot}/src/**/*.graphql",
      "{projectRoot}/src/**/*.gql",
      "{projectRoot}/src/**/*.js",
      "{projectRoot}/src/**/*.cjs",
      "{projectRoot}/src/**/*.mjs",
      "{projectRoot}/src/**/*.jsx",
      "{projectRoot}/src/**/*.json",
      "{projectRoot}/src/**/*.jsonc",
      "{projectRoot}/src/**/*.yaml",
      "{projectRoot}/src/**/*.yml",
      "{projectRoot}/src/**/*.toml",
      "{projectRoot}/src/**/*.md",
      "{projectRoot}/src/**/*.mdx",
      "{projectRoot}/build.config.ts",
      "{projectRoot}/tsup.config.ts",
      "{projectRoot}/tools/**/*",
      "{projectRoot}/scripts/**/*",
      "!{projectRoot}/**/?(*.)+(spec|test).[jt]s?(x)?(.snap)",
      "!{projectRoot}/**/*.stories.@(js|jsx|ts|tsx|mdx)",
      "!{projectRoot}/node_modules/**/*"
    ]
  },
  "targetDefaults": {
    "lint-ls": {
      "cache": true,
      "inputs": ["linting", "typescript", "^production"],
      "outputs": ["{projectRoot}/**/*"],
      "dependsOn": ["^lint-ls"],
      "executor": "nx:run-commands",
      "options": {
        "command": "pnpm exec ls-lint --config=\"./packages/linting-tools/src/ls-lint/ls-lint.yml\" ",
        "color": true
      }
    },
    "format-toml": {
      "cache": true,
      "inputs": ["linting", "{projectRoot}/**/*.toml"],
      "outputs": ["{projectRoot}/**/*.toml"],
      "dependsOn": ["^format-toml"],
      "executor": "nx:run-commands",
      "options": {
        "command": "pnpm exec taplo format --colors=\"always\" --config=\"./packages/linting-tools/src/taplo/config.toml\" --cache-path=\"tmp/taplo/{projectRoot}\"",
        "color": true
      }
    },
    "format-readme": {
      "cache": true,
      "inputs": [
        "linting",
        "documentation",
        "typescript",
        "{projectRoot}/{README.md,package.json,Cargo.toml,executors.json,generators.json}"
      ],
      "outputs": ["{projectRoot}/README.md"],
      "dependsOn": ["^format-readme"],
      "executor": "nx:run-commands",
      "options": {
        "command": "echo Skipping Readme formatting...",
        "color": true
      }
    },
    "format-prettier": {
      "cache": true,
      "inputs": ["linting", "typescript", "^production"],
      "dependsOn": ["^format-prettier"],
      "executor": "nx:run-commands",
      "options": {
        "command": "pnpm exec prettier \"{projectRoot}/**/*\" --write --ignore-unknown --no-error-on-unmatched-pattern --config=\"packages/prettier/src/config.json\" --ignore-path=\"packages/prettier/src/.prettierignore\" --cache --cache-location=\"tmp/prettier/{projectRoot}\" ",
        "color": true
      }
    },
    "@nx/esbuild:esbuild": {
      "cache": true,
      "dependsOn": ["^build"],
      "inputs": ["production", "^production"]
    },
    "@nx/js:tsc": {
      "cache": true,
      "dependsOn": ["^build"],
      "inputs": ["production", "^production"]
    },
    "@nx/eslint:lint": {
      "cache": true,
      "inputs": [
        "default",
        "{workspaceRoot}/.eslintrc.json",
        "{workspaceRoot}/.eslintignore",
        "{workspaceRoot}/eslint.config.js"
      ]
    }
  },
  "release": {
    "groups": {
      "packages": {
        "projects": ["packages/*", "crates/*", "terraform-modules"],
        "projectsRelationship": "independent",
        "releaseTagPattern": "{projectName}@{version}",
        "changelog": {
          "entryWhenNoChanges": false,
          "renderOptions": {
            "authors": false,
            "commitReferences": true,
            "versionTitleDate": true
          }
        },
        "version": {
          "groupPreVersionCommand": "pnpm build-prod",
          "generator": "@storm-software/workspace-tools:release-version",
          "generatorOptions": {
            "currentVersionResolver": "git-tag",
            "specifierSource": "conventional-commits"
          }
        }
      }
    }
  },
  "parallel": 1,
  "defaultBase": "main",
  "useDaemonProcess": true,
  "useInferencePlugins": true,
  "neverConnectToCloud": true,
  "plugins": [
    "./dist/plugins/rust/index.js",
    "./dist/plugins/typescript/index.js",
    "./dist/plugins/cloudflare/index.js",
    {
      "plugin": "@nx/eslint/plugin",
      "options": {
        "targetName": "lint",
        "useFlatConfig": false
      }
    }
  ]
}
